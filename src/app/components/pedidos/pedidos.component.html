<div class="container pt-4">
    <div class="row">
        <div class="col-lg-6 offset-lg-3">
            <div class="card text-center">
                <div class="card-body">
                    <span class="h3">Agregar un Pedido</span>
                    <form class="mt-4" [formGroup]="createPedido" (ngSubmit)="agregarPedido()">
                        <div class="row">
                            <div class="col">
                                <input type="text" class="form-control form-control-lg" placeholder="Direccion" formControlName="direccion">
                            </div>
                            <div class="col">
                                <input type="text" class="form-control form-control-lg" placeholder="Email" formControlName="email">
                            </div>
                        </div>
                        <input type="text" class="form-control form-control-lg mt-3" placeholder="Telefono" formControlName="telefono">
                        <input type="text" class="form-control form-control-lg mt-3" placeholder="Horario" formControlName="horario">
                        <select class="form-control form-control-lg mt-3" formControlName="detalle">
                            <option selected>Detalle</option>
                            <option *ngFor="let producto of productos">{{producto.nombre}}</option>
                        </select>
                        <input type="number" class="form-control form-control-lg mt-3" placeholder="Cantidad" formControlName="cantidad">
                        <div class="mt-3">
                            <button type="text" class="btn btn-secondary btn-lg mr-3" routerLink="/inicio">Volver</button>
                            <button type="submit" class="btn btn-dark btn-lg">Agregar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mt-4">
    <div class="card">
        <div class="card-body">
            <span class="h3">Lista de Pedidos</span>
            <form class="d-flex" [formGroup]="fecha" (ngSubmit)="listarPedidos()">
                <input class="form-control mt-3" type="search" placeholder="Buscar por fecha 'aaaa-mm-dd'" formControlName="fecha">
                <button class="btn btn-outline-success" type="submit">Buscar</button>
            </form>
            <table *ngIf="pedidos.length > 0" class="table table-striped mt-5">
                <thead>
                  <tr>
                    <th>Direccion</th>
                    <th>Email</th>
                    <th>Telefono</th>
                    <th>Horario</th>
                    <th>Producto</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                    <th>Estado</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let pedido of pedidos">
                    <td>{{pedido.direccion}}</td>
                    <td>{{pedido.email}}</td>
                    <td>{{pedido.telefono}}</td>
                    <td>{{pedido.horario}}</td>
                    <td *ngFor="let detalle of pedido.detalle">{{detalle.nombre}}</td>
                    <td *ngFor="let detalle of pedido.detalle">{{detalle.cantidad}}</td>
                    <td>{{pedido.total | currency}}</td>
                    <td>{{pedido.estado}}</td>
                  </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>